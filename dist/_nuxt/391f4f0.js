(window.webpackJsonp=window.webpackJsonp||[]).push([[14,5,9,10],{257:function(e,t,r){e.exports=r.p+"img/placeholder.ef09bcb.png"},265:function(e,t,r){var content=r(276);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(107).default)("6f95a837",content,!0,{sourceMap:!1})},266:function(e,t,r){var content=r(278);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(107).default)("98b73888",content,!0,{sourceMap:!1})},267:function(e,t,r){var content=r(280);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(107).default)("275d66e2",content,!0,{sourceMap:!1})},275:function(e,t,r){"use strict";r(265)},276:function(e,t,r){var n=r(106)(!1);n.push([e.i,"h1[data-v-c8a5768e],h2[data-v-c8a5768e],h2 h1 p[data-v-c8a5768e]{color:#000}span[data-v-c8a5768e]{color:red}.offer .profile[data-v-c8a5768e]{border:1px solid #000;padding:0;margin:20px auto auto;border-radius:13px;width:252px;box-sizing:252,266}.offer .profile-icon[data-v-c8a5768e]{display:flex;-o-object-fit:cover;object-fit:cover;width:252px;height:150px;border-radius:13px 13px 0 60px}.offer div.profile_industry[data-v-c8a5768e],.offer div.profile_store[data-v-c8a5768e]{text-align:right;margin-right:20px}.offer div.profile_store[data-v-c8a5768e]{font-size:25px}.offer .approval_message[data-v-c8a5768e]{text-align:right;margin-right:20px;color:#3cbe3c}",""]),e.exports=n},277:function(e,t,r){"use strict";r(266)},278:function(e,t,r){var n=r(106)(!1);n.push([e.i,".offer .profile[data-v-9c81460e]{border:1px solid #000;padding:0 px;margin:20px auto auto;border-radius:13px;width:252px;height:330}.offer .profile-icon[data-v-9c81460e]{display:flex;-o-object-fit:cover;object-fit:cover;width:252px;height:150px;border-radius:13px 13px 0 60px}.offer div.info div.profile_industry[data-v-9c81460e],.offer div.info div.profile_store[data-v-9c81460e]{text-align:right;margin-right:20px}.offer div.info div.profile_store[data-v-9c81460e]{font-size:25px}.offer div .message[data-v-9c81460e]{background-color:#d9d9d9;width:222px;height:40px;border-radius:4px;overflow-y:scroll;margin:auto auto 20px}",""]),e.exports=n},279:function(e,t,r){"use strict";r(267)},280:function(e,t,r){var n=r(106)(!1);n.push([e.i,"span[data-v-0b985cb0]{color:red}.offer .profile[data-v-0b985cb0]{border:1px solid #000;padding:0 px;margin:20px auto auto;border-radius:13px;width:252px;height:132}.offer .profile-icon[data-v-0b985cb0]{display:flex;-o-object-fit:cover;object-fit:cover;width:252px;height:92px;border-radius:13px 13px 0 45px}.offer div.profile_store[data-v-0b985cb0]{font-size:25px}.offer .succeeded_message[data-v-0b985cb0],.offer .wait_message[data-v-0b985cb0],.offer div.profile_store[data-v-0b985cb0]{text-align:right;margin-right:20px}.offer .succeeded_message[data-v-0b985cb0]{color:#3cbe3c}.offer .rejected_message[data-v-0b985cb0]{text-align:right;margin-right:20px;color:red}",""]),e.exports=n},282:function(e,t,r){"use strict";r.r(t);r(28),r(188),r(40);var n=r(260),c={name:"OfferCard",props:{offerReceived:{type:Object,required:!1,default:!1}},data:function(){return{industry:"小売り業",store:"海苔屋",day:4,approvalMessage:"",iconUrl:""}},mounted:function(){this.checkApproval(),this.getIconUrl()},methods:{checkApproval:function(){this.offerReceived.is_succeeded&&(this.approvalMessage="承認しました")},getIconUrl:function(){var e=this,t=this.offerReceived.uid,r=Object(n.c)(),c=Object(n.e)(r,"/"+t);Object(n.d)(c).then((function(c){for(var i=0;c.items.length>i;i++){"Icon"==c.items[i].name.split(".")[0]&&Object(n.b)(Object(n.e)(r,t+"/"+c.items[i].name)).then((function(t){e.iconUrl=t})).catch((function(e){console.error(e)}))}}))}}},o=(r(275),r(46)),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"offer"},[n("div",{staticClass:"profile"},[n("img",{staticClass:"profile-icon",attrs:{src:this.iconUrl?this.iconUrl:r(257),alt:"プロフィールアイコン"}}),e._v(" "),n("div",{staticClass:"profile_industry"},[e._v(e._s(e.offerReceived.industry))]),e._v(" "),n("div",{staticClass:"profile_store"},[e._v(e._s(e.offerReceived.shop_name))]),e._v(" "),n("div",{staticClass:"approval_message"},[e._v(e._s(e.approvalMessage))])])])}),[],!1,null,"c8a5768e",null);t.default=component.exports},285:function(e,t,r){var content=r(298);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(107).default)("4a5f7d0e",content,!0,{sourceMap:!1})},290:function(e,t,r){"use strict";r.r(t);r(28),r(188),r(40);var n=r(260),c={name:"OfferCard",props:{recommend:{type:Object,required:!1,default:!1}},data:function(){return{industry:"小売り業",shop_name:"海苔屋",message:"",iconUrl:""}},mounted:function(){this.getIconUrl()},methods:{getIconUrl:function(){var e=this,t=this.recommend.uid,r=Object(n.c)(),c=Object(n.e)(r,"/"+t);Object(n.d)(c).then((function(c){for(var i=0;c.items.length>i;i++){"Icon"==c.items[i].name.split(".")[0]&&Object(n.b)(Object(n.e)(r,t+"/"+c.items[i].name)).then((function(t){e.iconUrl=t})).catch((function(e){console.error(e)}))}}))}}},o=(r(277),r(46)),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"offer"},[n("div",{staticClass:"profile"},[n("img",{staticClass:"profile-icon",attrs:{src:this.iconUrl?this.iconUrl:r(257),alt:"プロフィールアイコン"}}),e._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"profile_industry"},[e._v(e._s(e.recommend.industry))]),e._v(" "),n("div",{staticClass:"profile_store"},[e._v(e._s(e.recommend.shop_name))])]),e._v(" "),n("div",{staticClass:"message"},[n("p",[n("span",[e._v(e._s(e.recommend.message))])])])])])}),[],!1,null,"9c81460e",null);t.default=component.exports},291:function(e,t,r){"use strict";r.r(t);r(28),r(188),r(40);var n=r(260),c={name:"OfferCard",props:{offerSubmitted:{type:Object,required:!1,default:!1}},data:function(){return{store:"海苔屋",day:4,waitMessage:"（返信待ちです）",succeededMessage:"",rejectedMessage:"",iconUrl:""}},mounted:function(){this.checkReply(),this.getIconUrl()},methods:{checkReply:function(){this.offerSubmitted.is_succeeded?(this.waitMessage="",this.succeededMessage="承認されました！"):this.offerSubmitted.is_rejected&&(this.waitMessage="",this.rejectedMessage="拒否されました")},getIconUrl:function(){var e=this,t=this.offerSubmitted.uid,r=Object(n.c)(),c=Object(n.e)(r,"/"+t);Object(n.d)(c).then((function(c){for(var i=0;c.items.length>i;i++){"Icon"==c.items[i].name.split(".")[0]&&Object(n.b)(Object(n.e)(r,t+"/"+c.items[i].name)).then((function(t){e.iconUrl=t})).catch((function(e){console.error(e)}))}}))}}},o=(r(279),r(46)),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"offer"},[n("div",{staticClass:"profile"},[n("img",{staticClass:"profile-icon",attrs:{src:this.iconUrl?this.iconUrl:r(257),alt:"プロフィールアイコン"}}),e._v(" "),n("div",{staticClass:"profile_store"},[e._v(e._s(e.offerSubmitted.shop_name))]),e._v(" "),n("div",{staticClass:"wait_message"},[e._v(e._s(e.waitMessage))]),e._v(" "),n("div",{staticClass:"succeeded_message"},[e._v(e._s(e.succeededMessage))]),e._v(" "),n("div",{staticClass:"rejected_message"},[e._v(e._s(e.rejectedMessage))])])])}),[],!1,null,"0b985cb0",null);t.default=component.exports},297:function(e,t,r){"use strict";r(285)},298:function(e,t,r){var n=r(106)(!1);n.push([e.i,".connecting[data-v-7187ba51]{text-align:center;margin-top:3em}.mode[data-v-7187ba51]{text-align:center;height:50px;justify-content:space-evenly;display:flex;background:#acacac;border-radius:0 0 13px 13px}section button[data-v-7187ba51]{display:inline-block;font-size:14px;border-radius:5px}.button_selected[data-v-7187ba51]{background-color:#90ee90}header[data-v-7187ba51]{text-align:center}header h2[data-v-7187ba51]{font-size:18px;margin:9px,0}",""]),e.exports=n},308:function(e,t,r){"use strict";r.r(t);var n=r(10),c=(r(15),r(32),r(75),r(60),r(282)),o=r(290),d=r(291),f=r(272),l=r(271),v={name:"",components:{OfferCard:c.default,recommendCard:o.default,replyWait:d.default},data:function(){return{waitReceived:!0,waitRecommend:!0,waitSubmitted:!0,displayType:2,uid:"",recommends:[],offersSubmitted:[],offersReceived:[]}},mounted:function(){this.checkLogin(),this.checkDisplayType()},methods:{change1:function(){this.displayType=1},change2:function(){this.displayType=2},change3:function(){this.displayType=3},checkLogin:function(){var e=this,t=Object(l.b)();Object(l.c)(t,function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r?(e.uid=r.uid,n=Object(f.e)(),e.matching(n),e.getOffersReceived(n),e.getOffersSubmitted(n)):e.$router.push({name:"login",params:{returnPage:"offer"}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},checkDisplayType:function(){this.$route.params.displayType&&(this.displayType=this.$route.params.displayType)},getOffersReceived:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var c,q,o,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=0,q=Object(f.f)(Object(f.b)(e,"offers_test"),Object(f.i)("to","==",t.uid)),r.next=4,Object(f.d)(q);case 4:o=r.sent,0==(d=o.docs.length)&&(t.waitReceived=!1),o.forEach(function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(n){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.data().is_rejected){r.next=8;break}return r.next=3,t.getUserData(e,n.data().from);case 3:(o=r.sent).offerID=n.id,o.is_succeeded=n.data().is_succeeded,t.offersReceived.push(o),t.waitReceived=!1;case 8:++c==d&&(t.waitReceived=!1);case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 8:case"end":return r.stop()}}),r)})))()},matching:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var c,o,d,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=0,r.next=3,t.getHiddenList(e);case 3:return o=r.sent,r.next=6,t.getRecommend(e);case 6:d=r.sent,0==(f=d.length)&&(t.waitRecommend=!1),d.forEach(function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(n){var d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(-1!==o.indexOf(n)){r.next=6;break}return r.next=3,t.getUserData(e,n);case 3:d=r.sent,t.recommends.push(d),t.waitRecommend=!1;case 6:++c==f&&(t.waitRecommend=!1);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 10:case"end":return r.stop()}}),r)})))()},getOffersSubmitted:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var q,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return q=Object(f.f)(Object(f.b)(e,"offers_test"),Object(f.i)("from","==",t.uid)),r.next=3,Object(f.d)(q);case 3:c=r.sent,0==c.docs.length&&(t.waitSubmitted=!1),c.forEach(function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(n){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getUserData(e,n.data().to);case 2:(c=r.sent).offerID=n.id,c.is_succeeded=n.data().is_succeeded,c.is_rejected=n.data().is_rejected,t.offersSubmitted.push(c),t.waitSubmitted=!1;case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 7:case"end":return r.stop()}}),r)})))()},getHiddenList:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=[],r.next=3,Object(f.d)(Object(f.b)(e,"offers_test"));case 3:return r.sent.forEach(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.data().from==t.uid?c.push(r.data().to):r.data().to==t.uid&&c.push(r.data().from);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.abrupt("return",c);case 6:case"end":return r.stop()}}),r)})))()},getRecommend:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var c,o,d,l,v,m,h,_,q;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c={},o=0,d=0,l=0,v=[],m=[],h=Object(f.f)(Object(f.b)(e,"users"),Object(f.i)("uid","==",t.uid)),r.next=9,Object(f.d)(h);case 9:return _=r.sent,c=_.docs[0].data(),q=Object(f.f)(Object(f.b)(e,"users")),r.next=14,Object(f.d)(q);case 14:return r.sent.forEach(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0,(n=r.data()).uid!=t.uid&&(c.attracting_customers&&n.attracting_customers&&o++,c.awareness&&n.awareness&&o++,c.branding&&n.branding&&o++,c.employee_training&&n.employee_training&&o++,c.expansion&&n.expansion&&o++,c.frequency&&n.frequency&&o++,c.human_resources&&n.human_resources&&o++,c.new_customers&&n.new_customers&&o++,c.outflow&&n.outflow&&o++,c.purchases&&n.purchases&&o++,c.repeat_rate&&n.repeat_rate&&o++,c.sales&&n.sales&&o++,c.unit_price&&n.unit_price&&o++,o>d?(l=d,v=m,d=o,(m=[]).push(n.uid)):o==d?m.push(n.uid):o>l?(l=o,(v=[]).push(n.uid)):o==l&&v.push(n.uid));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.abrupt("return",m.concat(v));case 17:case"end":return r.stop()}}),r)})))()},getUserData:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var q,n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return q=Object(f.f)(Object(f.b)(e,"users"),Object(f.i)("uid","==",t)),r.next=3,Object(f.d)(q);case 3:return n=r.sent,(c=n.docs[0].data()).uid=t,r.abrupt("return",c);case 7:case"end":return r.stop()}}),r)})))()},openReceivedProfile:function(e,t,r){this.$router.push({name:"offerProfile",params:{uid:e,offerID:t,is_succeeded:r,displayType:1}})},openRecommendProfile:function(e){this.$router.push({name:"offerProfile",params:{uid:e,displayType:2}})},openSubmittedProfile:function(e,t,r){this.$router.push({name:"offerProfile",params:{uid:e,offerID:t,is_succeeded:r,displayType:3}})}}},m=v,h=(r(297),r(46)),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),e._v(" "),r("section",{staticClass:"mode"},[1!==e.displayType?r("button",{on:{click:e.change1}},[e._v("受信一覧")]):e._e(),e._v(" "),1==e.displayType?r("button",{staticClass:"button_selected",on:{click:e.change1}},[e._v("受信一覧")]):e._e(),e._v(" "),2!==e.displayType?r("button",{on:{click:e.change2}},[e._v("オススメ")]):e._e(),e._v(" "),2==e.displayType?r("button",{staticClass:"button_selected",on:{click:e.change2}},[e._v("オススメ")]):e._e(),e._v(" "),3!==e.displayType?r("button",{on:{click:e.change3}},[e._v("送信済み")]):e._e(),e._v(" "),3==e.displayType?r("button",{staticClass:"button_selected",on:{click:e.change3}},[e._v("送信済み")]):e._e()]),e._v(" "),1==e.displayType?r("div",[e.waitReceived?r("h3",{staticClass:"connecting"},[e._v("通信中...")]):e._e(),e._v(" "),!e.waitReceived&0==e.offersReceived.length?r("h3",{staticClass:"connecting"},[e._v("オファーが来るのを待ちましょう")]):e._e(),e._v(" "),e._l(e.offersReceived,(function(t){return r("div",[r("div",{on:{click:function(r){return e.openReceivedProfile(t.uid,t.offerID,t.is_succeeded)}}},[r("OfferCard",{attrs:{offerReceived:t}})],1)])}))],2):e._e(),e._v(" "),2==e.displayType?r("div",[e.waitRecommend?r("h3",{staticClass:"connecting"},[e._v("通信中...")]):e._e(),e._v(" "),!e.waitRecommend&0==e.recommends.length?r("h3",{staticClass:"connecting"},[e._v("オススメがありません")]):e._e(),e._v(" "),e._l(e.recommends,(function(t){return r("div",[r("div",{on:{click:function(r){return e.openRecommendProfile(t.uid)}}},[r("recommendCard",{attrs:{recommend:t}})],1)])}))],2):e._e(),e._v(" "),3==e.displayType?r("div",[e.waitSubmitted?r("h3",{staticClass:"connecting"},[e._v("通信中...")]):e._e(),e._v(" "),!e.waitSubmitted&0==e.offersSubmitted.length?r("h3",{staticClass:"connecting"},[e._v("返信を待ちましょう")]):e._e(),e._v(" "),e._l(e.offersSubmitted,(function(t){return r("div",[r("div",{on:{click:function(r){return e.openSubmittedProfile(t.uid,t.offerID,t.is_succeeded)}}},[r("replyWait",{attrs:{offerSubmitted:t}})],1)])}))],2):e._e()])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("p",[e._v("OTA collab.")])])}],!1,null,"7187ba51",null);t.default=component.exports;installComponents(component,{OfferCard:r(282).default})}}]);