(window.webpackJsonp=window.webpackJsonp||[]).push([[17,6,11,12],{259:function(e,t,r){e.exports=r.p+"img/shop-sample-icon.7a09f80.jpg"},266:function(e,t,r){var content=r(286);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(107).default)("9a72c04e",content,!0,{sourceMap:!1})},267:function(e,t,r){var content=r(288);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(107).default)("2424695c",content,!0,{sourceMap:!1})},268:function(e,t,r){var content=r(290);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(107).default)("2a0068c4",content,!0,{sourceMap:!1})},285:function(e,t,r){"use strict";r(266)},286:function(e,t,r){var n=r(106)(!1);n.push([e.i,"h1[data-v-79f30712],h2[data-v-79f30712],h2 h1 p[data-v-79f30712]{color:#000}span[data-v-79f30712]{color:red}.offer .profile[data-v-79f30712]{border:1px solid #000;padding:0;margin:20px auto auto;border-radius:13px;width:252px;box-sizing:252,266}.offer .profile-icon[data-v-79f30712]{display:flex;width:254px;border-radius:13px 13px 0 60px}.offer div.profile_industry[data-v-79f30712],.offer div.profile_store[data-v-79f30712]{text-align:right;margin-right:20px}.offer div.profile_store[data-v-79f30712]{font-size:25px}",""]),e.exports=n},287:function(e,t,r){"use strict";r(267)},288:function(e,t,r){var n=r(106)(!1);n.push([e.i,".offer .profile[data-v-12e321bd]{border:1px solid #000;padding:0 px;margin:20px auto auto;border-radius:13px;width:252px;height:330}.offer .profile-icon[data-v-12e321bd]{display:flex;width:252px;border-radius:13px 13px 0 60px}.offer div.info div.profile_industry[data-v-12e321bd],.offer div.info div.profile_store[data-v-12e321bd]{text-align:right;margin-right:20px}.offer div.info div.profile_store[data-v-12e321bd]{font-size:25px}.offer div .message[data-v-12e321bd]{background-color:#d9d9d9;width:222px;height:40px;border-radius:4px;overflow-y:scroll;margin:auto auto 20px}",""]),e.exports=n},289:function(e,t,r){"use strict";r(268)},290:function(e,t,r){var n=r(106)(!1);n.push([e.i,"span[data-v-bd0a41d0]{color:red}.offer .profile[data-v-bd0a41d0]{border:1px solid #000;padding:0 px;margin:20px auto auto;border-radius:13px;width:252px;height:132}.offer .profile-icon[data-v-bd0a41d0]{display:flex;-o-object-fit:cover;object-fit:cover;width:252px;height:92px;border-radius:13px 13px 0 45px}.offer div.profile_store[data-v-bd0a41d0]{float:right;margin-right:20px;font-size:25px}",""]),e.exports=n},300:function(e,t,r){"use strict";r.r(t);var n={name:"OfferCard",props:{offerReceived:{type:Object,required:!1,default:!1}},data:function(){return{industry:"小売り業",store:"海苔屋",day:4}}},o=(r(285),r(46)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"offer"},[n("div",{staticClass:"profile"},[n("img",{staticClass:"profile-icon",attrs:{src:r(259),alt:"プロフィールアイコン"}}),e._v(" "),n("div",{staticClass:"profile_industry"},[e._v(e._s(e.offerReceived.industry))]),e._v(" "),n("div",{staticClass:"profile_store"},[e._v(e._s(e.offerReceived.shop_name))]),e._v(" "),n("p",[e._v("\n      残り"),n("span",[e._v(e._s(e.day))]),e._v("日\n    ")])])])}),[],!1,null,"79f30712",null);t.default=component.exports},307:function(e,t,r){"use strict";r.r(t);var n={name:"OfferCard",props:{recommend:{type:Object,required:!1,default:!1}},data:function(){return{industry:"小売り業",shop_name:"海苔屋",message:""}}},o=(r(287),r(46)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"offer"},[n("div",{staticClass:"profile"},[n("img",{staticClass:"profile-icon",attrs:{src:r(259),alt:"プロフィールアイコン"}}),e._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"profile_industry"},[e._v(e._s(e.recommend.industry))]),e._v(" "),n("div",{staticClass:"profile_store"},[e._v(e._s(e.recommend.shop_name))])]),e._v(" "),n("div",{staticClass:"message"},[n("p",[n("span",[e._v(e._s(e.recommend.message))])])])])])}),[],!1,null,"12e321bd",null);t.default=component.exports},308:function(e,t,r){"use strict";r.r(t);var n={name:"OfferCard",props:{offerSubmitted:{type:Object,required:!1,default:!1}},data:function(){return{store:"海苔屋",day:4}}},o=(r(289),r(46)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"offer"},[n("div",{staticClass:"profile"},[n("img",{staticClass:"profile-icon",attrs:{src:r(259),alt:"プロフィールアイコン"}}),e._v(" "),n("div",{staticClass:"profile_store"},[e._v(e._s(e.offerSubmitted.shop_name))]),e._v(" "),n("p",[e._v("\n      残り"),n("span",[e._v(e._s(e.day)+"日")])])])])}),[],!1,null,"bd0a41d0",null);t.default=component.exports},342:function(e,t,r){var content=r(409);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(107).default)("2a610d0e",content,!0,{sourceMap:!1})},408:function(e,t,r){"use strict";r(342)},409:function(e,t,r){var n=r(106)(!1);n.push([e.i,".connecting[data-v-bbb5f75e]{text-align:center;margin-top:3em}.mode[data-v-bbb5f75e]{text-align:center;height:50px;justify-content:space-evenly;display:flex;background:#acacac;border-radius:0 0 13px 13px}section button[data-v-bbb5f75e]{display:inline-block;font-size:14px}header[data-v-bbb5f75e]{text-align:center}header h2[data-v-bbb5f75e]{font-size:18px;margin:9px,0}",""]),e.exports=n},517:function(e,t,r){"use strict";r.r(t);var n=r(10),o=(r(15),r(32),r(60),r(300)),c=r(307),f=r(308),d=r(284),l=r(301),v={name:"",components:{OfferCard:o.default,recommendCard:c.default,replyWait:f.default},data:function(){return{day:26,userName:"田中",checkWaitData:[!0,!0,!0],displayType:1,userNum:"",recommends:[],offersSubmitted:[],offersReceived:[]}},mounted:function(){this.checklogin(),this.checkDisplayType(),this.matching(),this.getOffersReceived(),this.getOffersSubmitted()},methods:{change1:function(){this.displayType=1},change2:function(){this.displayType=2},change3:function(){this.displayType=3},checklogin:function(){var e=this,t=Object(l.b)();Object(l.c)(t,function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r||e.$router.push({name:"login",params:{returnPage:"offer"}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},checkDisplayType:function(){this.$route.params.displayType&&(this.displayType=this.$route.params.displayType)},getOffersReceived:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r="",o=Object(l.b)(),Object(l.c)(o,function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(o){var c,f,q;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=13;break}return r=o.uid,c=Object(d.f)(),t.next=5,Object(d.d)(Object(d.c)(c,"uid_to_num",r));case 5:return(f=t.sent).exists()?e.userNum=f.data().num:console.log("No such document."),q=Object(d.g)(Object(d.b)(c,"offers"),Object(d.k)("to","==",e.userNum)),t.next=10,Object(d.e)(q);case 10:t.sent.forEach(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.data().is_rejected){t.next=7;break}return console.log("受信："+r.data().from),t.next=4,e.getUserData(r.data().from);case 4:(n=t.sent).offerID=r.id,e.offersReceived.push(n);case 7:case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.checkWaitData[0]=!1;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()},matching:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r="",o=Object(l.b)(),Object(l.c)(o,function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(o){var c,f,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=19;break}return r=o.uid,c=Object(d.f)(),t.next=5,Object(d.d)(Object(d.c)(c,"uid_to_num",r));case 5:return(f=t.sent).exists()?e.userNum=f.data().num:console.log("No such document."),t.prev=7,t.next=10,e.$axios.$get("/matching/".concat(e.userNum));case 10:data=t.sent,console.log("おすすめ："+data.offers),data.offers.forEach(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUserData(String(r));case 2:n=t.sent,e.recommends.push(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.checkWaitData[1]=!1,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(7),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[7,16]])})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()},getOffersSubmitted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r="",o=Object(l.b)(),Object(l.c)(o,function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(o){var c,f,q;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=13;break}return r=o.uid,c=Object(d.f)(),t.next=5,Object(d.d)(Object(d.c)(c,"uid_to_num",r));case 5:return(f=t.sent).exists()?e.userNum=f.data().num:console.log("No such document."),q=Object(d.g)(Object(d.b)(c,"offers"),Object(d.k)("from","==",e.userNum)),t.next=10,Object(d.e)(q);case 10:t.sent.forEach(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("送信済み："+r.data().to),t.next=3,e.getUserData(r.data().to);case 3:(n=t.sent).offerID=r.id,e.offersSubmitted.push(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.checkWaitData[2]=!1;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()},getUserData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},n=Object(d.f)(),t.next=4,Object(d.d)(Object(d.c)(n,"users",e));case 4:if(!(o=t.sent).exists()){t.next=11;break}return data=o.data(),r={userNum:e,address:data.address,industry:data.industry,introduction:data.introduction,line_administrator:data.line_administrator,line_furigana:data.line_furigana,message:data.message,representative:data.representative,shop_name:data.shop_name},t.abrupt("return",r);case 11:return console.log("No such document."),t.abrupt("return",r);case 13:case"end":return t.stop()}}),t)})))()},openReceivedProfile:function(e,t){this.$router.push({name:"offerProfile",params:{userNum:e,offerID:t,displayType:1}})},openRecommendProfile:function(e){this.$router.push({name:"offerProfile",params:{userNum:e,displayType:2}})},openSubmittedProfile:function(e,t){this.$router.push({name:"offerProfile",params:{userNum:e,offerID:t,displayType:3}})}}},m=v,h=(r(408),r(46)),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),e._v(" "),r("section",{staticClass:"mode"},[1!==e.displayType?r("button",{on:{click:e.change1}},[e._v("オファー箱")]):e._e(),e._v(" "),1==e.displayType?r("button",{staticStyle:{"background-color":"lightgreen"},on:{click:e.change1}},[e._v("オファー箱")]):e._e(),e._v(" "),2!==e.displayType?r("button",{on:{click:e.change2}},[e._v("オススメ")]):e._e(),e._v(" "),2==e.displayType?r("button",{staticStyle:{"background-color":"lightgreen"},on:{click:e.change2}},[e._v("オススメ")]):e._e(),e._v(" "),3!==e.displayType?r("button",{on:{click:e.change3}},[e._v("返信待ち")]):e._e(),e._v(" "),3==e.displayType?r("button",{staticStyle:{"background-color":"lightgreen"},on:{click:e.change3}},[e._v("返信待ち")]):e._e()]),e._v(" "),1==e.displayType?r("div",[e.checkWaitData[0]?r("h3",{staticClass:"connecting"},[e._v("通信中...")]):e._e(),e._v(" "),!e.checkWaitData[0]&0==e.offersReceived.length?r("h3",{staticClass:"connecting"},[e._v("オファーが来るのを待ちましょう")]):e._e(),e._v(" "),e._l(e.offersReceived,(function(t){return r("div",[r("div",{on:{click:function(r){return e.openReceivedProfile(t.userNum,t.offerID)}}},[r("OfferCard",{attrs:{offerReceived:t}})],1)])}))],2):e._e(),e._v(" "),2==e.displayType?r("div",[e.checkWaitData[1]?r("h3",{staticClass:"connecting"},[e._v("通信中...")]):e._e(),e._v(" "),e._l(e.recommends,(function(t){return r("div",[r("div",{on:{click:function(r){return e.openRecommendProfile(t.userNum)}}},[r("recommendCard",{attrs:{recommend:t}})],1)])}))],2):e._e(),e._v(" "),3==e.displayType?r("div",[e.checkWaitData[2]?r("h3",{staticClass:"connecting"},[e._v("通信中...")]):e._e(),e._v(" "),!e.checkWaitData[2]&0==e.offersSubmitted.length?r("h3",{staticClass:"connecting"},[e._v("返信を待ちましょう")]):e._e(),e._v(" "),e._l(e.offersSubmitted,(function(t){return r("div",[r("div",{on:{click:function(r){return e.openSubmittedProfile(t.userNum,t.offerID)}}},[r("replyWait",{attrs:{offerSubmitted:t}})],1)])}))],2):e._e()])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("p",[e._v("OTA collab.")])])}],!1,null,"bbb5f75e",null);t.default=component.exports;installComponents(component,{OfferCard:r(300).default})}}]);