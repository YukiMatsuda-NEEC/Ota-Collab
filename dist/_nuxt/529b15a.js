(window.webpackJsonp=window.webpackJsonp||[]).push([[16,5,10,11],{257:function(e,t,r){e.exports=r.p+"img/placeholder.ef09bcb.png"},260:function(e,t,r){var content=r(269);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(107).default)("0083dd7c",content,!0,{sourceMap:!1})},261:function(e,t,r){var content=r(271);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(107).default)("fa6efe74",content,!0,{sourceMap:!1})},262:function(e,t,r){var content=r(273);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(107).default)("648114fc",content,!0,{sourceMap:!1})},268:function(e,t,r){"use strict";r(260)},269:function(e,t,r){var n=r(106)(!1);n.push([e.i,"h1[data-v-7a40b5cd],h2[data-v-7a40b5cd],h2 h1 p[data-v-7a40b5cd]{color:#000}span[data-v-7a40b5cd]{color:red}.offer .profile[data-v-7a40b5cd]{border:1px solid #000;padding:0;margin:20px auto auto;border-radius:13px;width:252px;box-sizing:252,266}.offer .profile-icon[data-v-7a40b5cd]{display:flex;-o-object-fit:cover;object-fit:cover;width:252px;height:150px;border-radius:13px 13px 0 60px}.offer div.profile_industry[data-v-7a40b5cd],.offer div.profile_store[data-v-7a40b5cd]{text-align:right;margin-right:20px}.offer div.profile_store[data-v-7a40b5cd]{font-size:25px}.offer .approval_message[data-v-7a40b5cd]{text-align:right;margin-right:20px;color:#3cbe3c}",""]),e.exports=n},270:function(e,t,r){"use strict";r(261)},271:function(e,t,r){var n=r(106)(!1);n.push([e.i,".offer .profile[data-v-387b1f65]{border:1px solid #000;padding:0 px;margin:20px auto auto;border-radius:13px;width:252px;height:330}.offer .profile-icon[data-v-387b1f65]{display:flex;-o-object-fit:cover;object-fit:cover;width:252px;height:150px;border-radius:13px 13px 0 60px}.offer div.info div.profile_industry[data-v-387b1f65],.offer div.info div.profile_store[data-v-387b1f65]{text-align:right;margin-right:20px}.offer div.info div.profile_store[data-v-387b1f65]{font-size:25px}.offer div .message[data-v-387b1f65]{background-color:#d9d9d9;width:222px;height:40px;border-radius:4px;overflow-y:scroll;margin:auto auto 20px}",""]),e.exports=n},272:function(e,t,r){"use strict";r(262)},273:function(e,t,r){var n=r(106)(!1);n.push([e.i,"span[data-v-4a418b9e]{color:red}.offer .profile[data-v-4a418b9e]{border:1px solid #000;padding:0 px;margin:20px auto auto;border-radius:13px;width:252px;height:132}.offer .profile-icon[data-v-4a418b9e]{display:flex;-o-object-fit:cover;object-fit:cover;width:252px;height:92px;border-radius:13px 13px 0 45px}.offer div.profile_store[data-v-4a418b9e]{font-size:25px}.offer .succeeded_message[data-v-4a418b9e],.offer .wait_message[data-v-4a418b9e],.offer div.profile_store[data-v-4a418b9e]{text-align:right;margin-right:20px}.offer .succeeded_message[data-v-4a418b9e]{color:#3cbe3c}.offer .rejected_message[data-v-4a418b9e]{text-align:right;margin-right:20px;color:red}",""]),e.exports=n},279:function(e,t,r){"use strict";r.r(t);r(28),r(188),r(40);var n=r(258),c={name:"OfferCard",props:{offerReceived:{type:Object,required:!1,default:!1}},data:function(){return{industry:"小売り業",store:"海苔屋",day:4,approvalMessage:"",iconUrl:""}},mounted:function(){this.checkApproval(),this.getIconUrl()},methods:{checkApproval:function(){this.offerReceived.is_succeeded&&(this.approvalMessage="承認しました")},getIconUrl:function(){var e=this,t=this.offerReceived.userNum,r=Object(n.c)(),c=Object(n.e)(r,"/"+t);Object(n.d)(c).then((function(c){for(var i=0;c.items.length>i;i++){"Icon"==c.items[i].name.split(".")[0]&&Object(n.b)(Object(n.e)(r,t+"/"+c.items[i].name)).then((function(t){e.iconUrl=t})).catch((function(e){console.error(e)}))}}))}}},o=(r(268),r(46)),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"offer"},[n("div",{staticClass:"profile"},[n("img",{staticClass:"profile-icon",attrs:{src:this.iconUrl?this.iconUrl:r(257),alt:"プロフィールアイコン"}}),e._v(" "),n("div",{staticClass:"profile_industry"},[e._v(e._s(e.offerReceived.industry))]),e._v(" "),n("div",{staticClass:"profile_store"},[e._v(e._s(e.offerReceived.shop_name))]),e._v(" "),n("div",{staticClass:"approval_message"},[e._v(e._s(e.approvalMessage))])])])}),[],!1,null,"7a40b5cd",null);t.default=component.exports},282:function(e,t,r){"use strict";r.r(t);r(28),r(188),r(40);var n=r(258),c={name:"OfferCard",props:{recommend:{type:Object,required:!1,default:!1}},data:function(){return{industry:"小売り業",shop_name:"海苔屋",message:"",iconUrl:""}},mounted:function(){this.getIconUrl()},methods:{getIconUrl:function(){var e=this,t=this.recommend.userNum,r=Object(n.c)(),c=Object(n.e)(r,"/"+t);Object(n.d)(c).then((function(c){for(var i=0;c.items.length>i;i++){"Icon"==c.items[i].name.split(".")[0]&&Object(n.b)(Object(n.e)(r,t+"/"+c.items[i].name)).then((function(t){e.iconUrl=t})).catch((function(e){console.error(e)}))}}))}}},o=(r(270),r(46)),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"offer"},[n("div",{staticClass:"profile"},[n("img",{staticClass:"profile-icon",attrs:{src:this.iconUrl?this.iconUrl:r(257),alt:"プロフィールアイコン"}}),e._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"profile_industry"},[e._v(e._s(e.recommend.industry))]),e._v(" "),n("div",{staticClass:"profile_store"},[e._v(e._s(e.recommend.shop_name))])]),e._v(" "),n("div",{staticClass:"message"},[n("p",[n("span",[e._v(e._s(e.recommend.message))])])])])])}),[],!1,null,"387b1f65",null);t.default=component.exports},283:function(e,t,r){"use strict";r.r(t);r(28),r(188),r(40);var n=r(258),c={name:"OfferCard",props:{offerSubmitted:{type:Object,required:!1,default:!1}},data:function(){return{store:"海苔屋",day:4,waitMessage:"（返信待ちです）",succeededMessage:"",rejectedMessage:"",iconUrl:""}},mounted:function(){this.checkReply(),this.getIconUrl()},methods:{checkReply:function(){this.offerSubmitted.is_succeeded?(this.waitMessage="",this.succeededMessage="承認されました！"):this.offerSubmitted.is_rejected&&(this.waitMessage="",this.rejectedMessage="拒否されました")},getIconUrl:function(){var e=this,t=this.offerSubmitted.userNum,r=Object(n.c)(),c=Object(n.e)(r,"/"+t);Object(n.d)(c).then((function(c){for(var i=0;c.items.length>i;i++){"Icon"==c.items[i].name.split(".")[0]&&Object(n.b)(Object(n.e)(r,t+"/"+c.items[i].name)).then((function(t){e.iconUrl=t})).catch((function(e){console.error(e)}))}}))}}},o=(r(272),r(46)),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"offer"},[n("div",{staticClass:"profile"},[n("img",{staticClass:"profile-icon",attrs:{src:this.iconUrl?this.iconUrl:r(257),alt:"プロフィールアイコン"}}),e._v(" "),n("div",{staticClass:"profile_store"},[e._v(e._s(e.offerSubmitted.shop_name))]),e._v(" "),n("div",{staticClass:"wait_message"},[e._v(e._s(e.waitMessage))]),e._v(" "),n("div",{staticClass:"succeeded_message"},[e._v(e._s(e.succeededMessage))]),e._v(" "),n("div",{staticClass:"rejected_message"},[e._v(e._s(e.rejectedMessage))])])])}),[],!1,null,"4a418b9e",null);t.default=component.exports},292:function(e,t,r){var content=r(307);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(107).default)("12e39413",content,!0,{sourceMap:!1})},306:function(e,t,r){"use strict";r(292)},307:function(e,t,r){var n=r(106)(!1);n.push([e.i,".connecting[data-v-486670a3]{text-align:center;margin-top:3em}.mode[data-v-486670a3]{text-align:center;height:50px;justify-content:space-evenly;display:flex;background:#acacac;border-radius:0 0 13px 13px}section button[data-v-486670a3]{display:inline-block;font-size:14px;border-radius:5px}.button_selected[data-v-486670a3]{background-color:#90ee90}header[data-v-486670a3]{text-align:center}header h2[data-v-486670a3]{font-size:18px;margin:9px,0}",""]),e.exports=n},322:function(e,t,r){"use strict";r.r(t);var n=r(10),c=(r(15),r(32),r(60),r(279)),o=r(282),d=r(283),f=r(281),l=r(280),m={name:"",components:{OfferCard:c.default,recommendCard:o.default,replyWait:d.default},data:function(){return{day:26,userName:"田中",waitReceived:!0,waitRecommend:!0,waitSubmitted:!0,displayType:2,userNum:"",recommends:[],offersSubmitted:[],offersReceived:[]}},mounted:function(){this.checkLogin(),this.checkDisplayType()},methods:{change1:function(){this.displayType=1},change2:function(){this.displayType=2},change3:function(){this.displayType=3},checkLogin:function(){var e=this,t=Object(l.b)();Object(l.c)(t,function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=10;break}return n=Object(f.f)(),t.next=4,e.getUserNum(n,r);case 4:e.userNum=t.sent,e.matching(n),e.getOffersReceived(n),e.getOffersSubmitted(n),t.next=11;break;case 10:e.$router.push({name:"login",params:{returnPage:"offer"}});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},checkDisplayType:function(){this.$route.params.displayType&&(this.displayType=this.$route.params.displayType)},getOffersReceived:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var c,q,o,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=0,q=Object(f.g)(Object(f.b)(e,"offers"),Object(f.k)("to","==",t.userNum)),r.next=4,Object(f.e)(q);case 4:o=r.sent,0==(d=o.docs.length)&&(t.waitReceived=!1),o.forEach(function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(n){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.data().is_rejected){r.next=8;break}return r.next=3,t.getUserData(e,n.data().from);case 3:(o=r.sent).offerID=n.id,o.is_succeeded=n.data().is_succeeded,t.offersReceived.push(o),t.waitReceived=!1;case 8:++c==d&&(t.waitReceived=!1);case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 8:case"end":return r.stop()}}),r)})))()},matching:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var c,o,d,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=0,r.next=3,t.getHiddenList(e);case 3:return o=r.sent,r.next=6,t.getRecommend(e);case 6:d=r.sent,0==(f=d.length)&&(t.waitRecommend=!1),d.forEach(function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(n){var d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(-1!==o.indexOf(n)){r.next=6;break}return r.next=3,t.getUserData(e,n);case 3:d=r.sent,t.recommends.push(d),t.waitRecommend=!1;case 6:++c==f&&(t.waitRecommend=!1);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 10:case"end":return r.stop()}}),r)})))()},getOffersSubmitted:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var q,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return q=Object(f.g)(Object(f.b)(e,"offers"),Object(f.k)("from","==",t.userNum)),r.next=3,Object(f.e)(q);case 3:c=r.sent,0==c.docs.length&&(t.waitSubmitted=!1),c.forEach(function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(n){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getUserData(e,n.data().to);case 2:(c=r.sent).offerID=n.id,c.is_succeeded=n.data().is_succeeded,c.is_rejected=n.data().is_rejected,t.offersSubmitted.push(c),t.waitSubmitted=!1;case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 7:case"end":return r.stop()}}),r)})))()},getUserNum:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.uid,r.next=3,Object(f.d)(Object(f.c)(e,"uid_to_num",n));case 3:if(!(c=r.sent).exists()){r.next=8;break}return r.abrupt("return",c.data().num);case 8:return r.abrupt("return","");case 9:case"end":return r.stop()}}),r)})))()},getHiddenList:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=[],r.next=3,Object(f.e)(Object(f.b)(e,"offers"));case 3:return r.sent.forEach(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.data().from==t.userNum?c.push(r.data().to):r.data().to==t.userNum&&c.push(r.data().from);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.abrupt("return",c);case 6:case"end":return r.stop()}}),r)})))()},getRecommend:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var c,o,d,l,m,q;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c={},o=0,d=0,l=[],r.next=6,Object(f.d)(Object(f.c)(e,"ManagementIssues",t.userNum));case 6:return(m=r.sent).exists()&&(c=m.data()),q=Object(f.g)(Object(f.b)(e,"ManagementIssues")),r.next=11,Object(f.e)(q);case 11:return r.sent.forEach(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0,n=r.data(),r.id!=t.userNum&&(c.attracting_customers&&n.attracting_customers&&o++,c.awareness&&n.awareness&&o++,c.branding&&n.branding&&o++,c.employee_training&&n.employee_training&&o++,c.expansion&&n.expansion&&o++,c.frequency&&n.frequency&&o++,c.human_resources&&n.human_resources&&o++,c.new_customers&&n.new_customers&&o++,c.outflow&&n.outflow&&o++,c.purchases&&n.purchases&&o++,c.repeat_rate&&n.repeat_rate&&o++,c.sales&&n.sales&&o++,c.unit_price&&n.unit_price&&o++,o>d?((l=[]).push(r.id),d=o):o==d&&l.push(r.id));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.abrupt("return",l);case 14:case"end":return r.stop()}}),r)})))()},getUserData:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={},r.next=3,Object(f.d)(Object(f.c)(e,"users",t));case 3:if(!(c=r.sent).exists()){r.next=10;break}return data=c.data(),n={userNum:t,address:data.address,industry:data.industry,introduction:data.introduction,line_administrator:data.line_administrator,line_furigana:data.line_furigana,message:data.message,representative:data.representative,shop_name:data.shop_name},r.abrupt("return",n);case 10:return console.log("No such document."),r.abrupt("return",n);case 12:case"end":return r.stop()}}),r)})))()},openReceivedProfile:function(e,t,r){this.$router.push({name:"offerProfile",params:{userNum:e,offerID:t,is_succeeded:r,displayType:1}})},openRecommendProfile:function(e){this.$router.push({name:"offerProfile",params:{userNum:e,displayType:2}})},openSubmittedProfile:function(e,t,r){this.$router.push({name:"offerProfile",params:{userNum:e,offerID:t,is_succeeded:r,displayType:3}})}}},v=m,h=(r(306),r(46)),component=Object(h.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),e._v(" "),r("section",{staticClass:"mode"},[1!==e.displayType?r("button",{on:{click:e.change1}},[e._v("受信一覧")]):e._e(),e._v(" "),1==e.displayType?r("button",{staticClass:"button_selected",on:{click:e.change1}},[e._v("受信一覧")]):e._e(),e._v(" "),2!==e.displayType?r("button",{on:{click:e.change2}},[e._v("オススメ")]):e._e(),e._v(" "),2==e.displayType?r("button",{staticClass:"button_selected",on:{click:e.change2}},[e._v("オススメ")]):e._e(),e._v(" "),3!==e.displayType?r("button",{on:{click:e.change3}},[e._v("送信済み")]):e._e(),e._v(" "),3==e.displayType?r("button",{staticClass:"button_selected",on:{click:e.change3}},[e._v("送信済み")]):e._e()]),e._v(" "),1==e.displayType?r("div",[e.waitReceived?r("h3",{staticClass:"connecting"},[e._v("通信中...")]):e._e(),e._v(" "),!e.waitReceived&0==e.offersReceived.length?r("h3",{staticClass:"connecting"},[e._v("オファーが来るのを待ちましょう")]):e._e(),e._v(" "),e._l(e.offersReceived,(function(t){return r("div",[r("div",{on:{click:function(r){return e.openReceivedProfile(t.userNum,t.offerID,t.is_succeeded)}}},[r("OfferCard",{attrs:{offerReceived:t}})],1)])}))],2):e._e(),e._v(" "),2==e.displayType?r("div",[e.waitRecommend?r("h3",{staticClass:"connecting"},[e._v("通信中...")]):e._e(),e._v(" "),!e.waitRecommend&0==e.recommends.length?r("h3",{staticClass:"connecting"},[e._v("オススメがありません")]):e._e(),e._v(" "),e._l(e.recommends,(function(t){return r("div",[r("div",{on:{click:function(r){return e.openRecommendProfile(t.userNum)}}},[r("recommendCard",{attrs:{recommend:t}})],1)])}))],2):e._e(),e._v(" "),3==e.displayType?r("div",[e.waitSubmitted?r("h3",{staticClass:"connecting"},[e._v("通信中...")]):e._e(),e._v(" "),!e.waitSubmitted&0==e.offersSubmitted.length?r("h3",{staticClass:"connecting"},[e._v("返信を待ちましょう")]):e._e(),e._v(" "),e._l(e.offersSubmitted,(function(t){return r("div",[r("div",{on:{click:function(r){return e.openSubmittedProfile(t.userNum,t.offerID,t.is_succeeded)}}},[r("replyWait",{attrs:{offerSubmitted:t}})],1)])}))],2):e._e()])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("p",[e._v("OTA collab.")])])}],!1,null,"486670a3",null);t.default=component.exports;installComponents(component,{OfferCard:r(279).default})}}]);